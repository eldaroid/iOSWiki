## Universal Links

Универсальные ссылки позволяют открывать web-ссылку в мобильном приложении, если оно установлено, а если приложения нет – открывается страница платформы в веб. браузере.

![](https://github.com/eldaroid/pictures/blob/master/iOSWiki/IosDevTools/universal_links.png?raw=true)

Таким образом мы можем не задумываться о наличии у пользователя приложения, переход по ссылкам из почты и мессенджеров будет всегда работать в удобном для пользователя виде. Также это полезно при рассылках по почте – с компьютера будет открыт браузер и Пульс в нем, а на айфоне приложение.

### Реализация

У iOS есть список [Associated Domains](https://developer.apple.com/documentation/xcode/supporting-associated-domains) всех приложений, которые установлены сейчас на телефон.

Если ссылка начинается с одного из них, то iOS пытается открыть ее, как универсальную. 

К началу ссылки, которое совпадает с одним из Associated Domains, добавляется /.well-known/apple-app-site-association и этот файл открывается.

iOS идет по каждому appID из этого файла и проверяет, установлено оно или нет. 

Если iOS не нашла ни одного установленного appID, то ссылка открывается в Safari.

Если приложение установлено, то идет поиск по paths. Универсальная ссылка откроется в приложении, если она начинается с Associated Domains/path, где path одна из paths.

Если среди paths установленных приложений нет подходящего, то ссылка открывается в Safari.











