### ü§ñ CI Guide –ø–æ —ç—Ç–∞–ø–∞–º —Å–±–æ—Ä–∫–∏ Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –∞–≥–µ–Ω—Ç–µ Jenkins



<details>
<summary><strong>1) –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç–µ–ª—å–Ω—ã–π —ç—Ç–∞–ø</strong></summary>
<p>

<details>
<summary><strong>1.1) –ù–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ/–≤–µ—Ä—Å–∏–∏</strong></summary>
<p>

<details>
<summary><strong>1.1.1) Node/v23.6.1</strong></summary>
<p>

–°–∫–∞—á–∞—Ç—å node —Å —Å–∞–π—Ç–∞: https://nodejs.org/en/download

```bash
‚ûú  ~ echo 'strict-ssl=false' >> ~/.npmrc
‚ûú  ~ echo 'registry=https://nexus-ci.delta.sbrf.ru/repository/npm-all/' >> ~/.npmrc
```

–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –≤ `~/.npmrc`:
```bash
//nexus.sigma.sbrf.ru/nexus/content/repositories/npm-corp/:_auth=<–ü—Ä–∏–º–µ—Ä–¢–æ–∫–µ–Ω–∞:1234DE5OSE/>
//nexus-ci.sigma.sbrf.ru/repository/npm-all/:_auth=<–ü—Ä–∏–º–µ—Ä–¢–æ–∫–µ–Ω–∞:1234DE5OSE/>
//nexus-ci.delta.sbrf.ru/repository/npm-all/:_auth=<–ü—Ä–∏–º–µ—Ä–¢–æ–∫–µ–Ω–∞:DaYmZ1
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É `.npmrc` –º–æ–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã: `npm info`

–ï—Å–ª–∏ –≤—Å–µ –≤ –ø–æ—Ä—è–¥–∫–µ - –≤—ã–≤–µ–¥–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–µ—Ä—Å–∏–π –ø–∞–∫–µ—Ç–∞.

</p>
</details>

<details>
<summary><strong>1.1.2) Ruby/v2.7.5</strong></summary>
<p>

–°—Å—ã–ª–∫–∞ –Ω–∞ Ruby –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏–ª–∏ –∫–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ —à–∞–≥–∞–º —Ç—É—Ç:

```bash
brew install rbenv
echo 'eval "$(rbenv init - zsh)"' >> ~/.zshrc
```

```bash
‚ûú  ~ git clone https://github.com/rbenv/rbenv.git ~/.rbenv
‚ûú  ~ echo 'export PATH="$HOME/.rbenv/bin:$PATH"' >> ~/.zshrc
‚ûú  ~ ~/.rbenv/bin/rbenv init
‚ûú  ~ exec $SHELL -l
‚ûú  ~ git clone https://github.com/rbenv/ruby-build.git "$(rbenv root)"/plugins/ruby-build
‚ûú  ~ rbenv install 2.7.5
‚ûú  ~ rbenv global 2.7.5
```

</p>
</details>

<details>
<summary><strong>1.1.3) java JDK/v17.0.14</strong></summary>
<p>

–°—Å—ã–ª–∫–∞ –∫–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–ª–∏ –ø–æ —à–∞–≥–∞–º –¥–ª—è MacOS [M1](https://github.com/eldaroid/iOSWiki/blob/master/2 ComputerScience/2.0 Linux/2.0.2 Processor(CPU).md#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-x86-vs-arm-cisc-vs-rics):

```bash
‚ûú  ~ git clone https://github.com/jenv/jenv.git ~/.jenv
‚ûú  ~ echo 'export PATH="$HOME/.jenv/bin:$PATH"' >> ~/.zshrc
‚ûú  ~ echo 'eval "$(jenv init -)"' >> ~/.zshrc
‚ûú  ~ exec $SHELL -l
‚ûú  ~ eval "$(jenv init -)"
‚ûú  ~ jenv enable-plugin export
```

–°–∫–∞—á–∞—Ç—å —Å —Å–∞–π—Ç–∞ [Zulu Java JDK 17](https://www.azul.com/downloads/#downloads-table-zulu):
```bash
‚ûú  ~ jenv add /Users/popovEldar/Downloads/zulu17.56.15-ca-jdk17.0.14-macosx_aarch64/zulu-17.jdk/Contents/Home/
zulu64-17.0.14 added
17.0.14 added
17.0 added
17 added
‚ûú  ~ jenv global 17
‚ûú  ~ java --version
openjdk 17.0.14 2025-01-21 LTS
OpenJDK Runtime Environment Zulu17.56+15-CA (build 17.0.14+7-LTS)
OpenJDK 64-Bit Server VM Zulu17.56+15-CA (build 17.0.14+7-LTS, mixed mode, sharing)
‚ûú  ~ jenv doctor // –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–æ—Å—å
```

</p>
</details>

</p>
</details>

<details>
<summary><strong>1.2) –ì–∏—Ç</strong></summary>
<p>

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–∏—Ç–∞ (`vim ~/.gitconfig`):
```ini
[user]
    name = –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω
    email = –ò–≤–∞–Ω–æ–≤–ò–≤–∞–Ω@ya.ru
 
[core]
    excludesfile = ~/.gitignore_global
    ignorecase = false
 
[http]
    postBuffer = 1048576000
    maxRequestBuffer = 100M  
    sslVerify = false
 
 [ssh]
    postBuffer = 2048M
    maxRequestBuffer = 1024M
```

–ò–ª–∏ –º–æ–π –ª–∏—á–Ω—ã–π [–∫–æ–Ω—Ñ–∏–≥](https://github.com/eldaroid/iOSWiki/blob/master/1%20Common/1.1%20Configs/1.1.3%20gitconfig.md)

–î–∞–ª–µ–µ –∫–ª–æ–Ω–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç `git clone YourProjectUrl`

</p>
</details>

<details>
<summary><strong>1.3) –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: ruby, gradle, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è</strong></summary>
<p>

<details>
<summary><strong>1.3.1) Gradle</strong></summary>
<p>

```bash
‚ûú  ~ echo 'export GRADLE_USER_HOME=$HOME/.gradle' >> ~/.zshrc
‚ûú  ~ mkdir -p $HOME/.gradle/
‚ûú  ~ touch $HOME/.gradle/gradle.properties
‚ûú  ~ echo "nexusLogin=–≤–∞—à_–¥–µ–ª—å—Ç–∞_–ª–æ–≥–∏–Ω" >> $HOME/.gradle/gradle.properties
‚ûú  ~ echo "nexusPassword=–≤–∞—à_–¥–µ–ª—å—Ç–∞_–ø–∞—Ä–æ–ª—å" >> $HOME/.gradle/gradle.properties
‚ûú  ~ echo "systemProp.gradle.wrapperUser=–≤–∞—à_–¥–µ–ª—å—Ç–∞_–ª–æ–≥–∏–Ω" >> $HOME/.gradle/gradle.properties
‚ûú  ~ echo "systemProp.gradle.wrapperPassword=–≤–∞—à_–¥–µ–ª—å—Ç–∞_–ø–∞—Ä–æ–ª—å" >> $HOME/.gradle/gradle.properties
```

</p>
</details>

<details>
<summary><strong>1.3.2) –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã</strong></summary>
<p>

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã c –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∫ —Å–µ—Ä–≤–∏—Å–∞–º –∫–æ–º–ø–∞–Ω–∏–∏, –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏, —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤ java –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π trustStore, –≤ –∫–æ—Ç–æ—Ä–æ–º —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è –≤—Å–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–∫–∞—á–∞—Ç—å –∫–∞–∫ –ø—Ä–æ—Å—Ç–æ cacerts, —Ç–∞–∫ –∏ cacerts.jks:

–£–∫–∞–∑—ã–≤–∞–µ–º cacerts –≤ ~/.gradle/gradle.properties:
```bash
‚ûú  ~ echo "systemProp.javax.net.ssl.trustStore$HOME/cacerts/cacerts.jks" >> $HOME/.gradle/gradle.properties
‚ûú  ~ echo "systemProp.javax.net.ssl.trustStorePassword=changeit" >> $HOME/.gradle/gradle.properties 
cacerts.jks —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –∑–¥–µ—Å—å. –£–∫–∞–∑—ã–≤–∞–µ–º –µ–≥–æ –≤ ~/.zshrc:
‚ûú  ~ echo 'export JAVA_OPTS="-Djavax.net.ssl.trustStore=$HOME/cacerts.jks' >> ~/.zshrc
```

</p>
</details>

<details>
<summary><strong>1.3.3) ESLint</strong></summary>
<p>

`export ESLINT_USE_FLAT_CONFIG=false –≤ ~/.zshrc`

</p>
</details>

</p>
</details>

</p>
</details>

<details>
<summary><strong>2) Android –æ–∫—Ä—É–∂–µ–Ω–∏–µ</strong></summary>
<p>

### –û–∫—Ä—É–∂–µ–Ω–∏–µ

–°–∫–∞—á–∞—Ç—å `commandlinetools-mac-11076708_latest.zip` —Å https://dl.google.com/android/repository/commandlinetools-mac-11076708_latest.zip
`‚ûú  ~ mkdir -p /Users/popovEldar/Library/Android/sdk/cmdline-tools/latest`

–†–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä—É–π commandlinetools –∏ –ø–µ—Ä–µ–Ω–µ—Å–∏ –≤ –ø–∞–ø–∫—É `/Users/popovEldar/Library/Android/sdk/cmdline-tools/` –∏–ª–∏ `unzip commandlinetools-*.zip -d /Users/popovEldar/Library/Android/sdk/cmdline-tools/latest`

```bash
‚ûú  ~ echo 'export ANDROID_HOME=$HOME/Library/Android/sdk' >> ~/.zshrc
‚ûú  ~ echo 'export PATH=$ANDROID_HOME/cmdline-tools/latest/bin:$ANDROID_HOME/emulator:$ANDROID_HOME/platform-tools:$PATH' >> ~/.zshrc
‚ûú  ~ exec $SHELL -l
```

–°–∫–∞—á–∞—Ç—å `android_sdk/platform-tools_r35.0.2-darwin.zip` –ø–æ —Å—Å—ã–ª–∫–µ ["SDK Platform Tools"](https://developer.android.com/tools/releases/platform-tools) –∏ —Ä–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤ `$ANDROID_HOME`.

–°–∫–∞—á–∞—Ç—å `android_sdk/build-tools_r33-macosx.zip` –ø–æ —Å—Å—ã–ª–∫–µ ["SDK Build Tools"](https://developer.android.com/tools/releases/build-tools) –∏ —Ä–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤ `$ANDROID_HOME`.

–ò—Ç–æ–≥–æ–≤–æ –¥–æ–ª–∂–Ω–æ –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:
```bash
‚ûú  sdk $ANDROID_HOME
‚ûú  sdk tree -L 1
.
‚îú‚îÄ‚îÄ build-tools     # –°–æ–¥–µ—Ä–∂–∏—Ç —Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ Build Tools (–∫–æ–º–ø–∏–ª—è—Ü–∏—è, APK (Android Package Kit) - –∞–Ω–∞–ª–æ–≥ IPA –∏–∑ iOS)
‚îú‚îÄ‚îÄ cmdline-tools   # –ö–æ–º–∞–Ω–¥–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (sdkmanager, avdmanager)
‚îú‚îÄ‚îÄ licenses        # –ü—Ä–∏–Ω—è—Ç—ã–µ –ª–∏—Ü–µ–Ω–∑–∏–∏ Google
‚îú‚îÄ‚îÄ platform-tools  # ADB, fastboot –∏ –¥—Ä—É–≥–∏–µ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã
‚îî‚îÄ‚îÄ repository2-3.xml # –ö—ç—à –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ SDK
5 directories, 1 file
```

–ü—Ä–∏–Ω—è—Ç—å –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ Android SDK, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —à–∞–≥ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–Ω/—Ä: sdkmanager, avdmanager –∏–ª–∏ —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ Gradle):

`$ANDROID_HOME/cmdline-tools/latest/bin/sdkmanager --licenses`

### –≠–º—É–ª—è—Ç–æ—Ä

–ö–æ–º–∞–Ω–¥–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ –∑–∞–ø—É—Å–∫–∞ Android-—ç–º—É–ª—è—Ç–æ—Ä–∞ —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π:

`$ANDROID_HOME/cmdline-tools/latest/bin/sdkmanager "emulator" "system-images;android-33;google_apis;arm64-v8a"`

–ö–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π Android Virtual Device (AVD) - –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–ª—è —ç–º—É–ª—è—Ç–æ—Ä–∞ Android:

`$ANDROID_HOME/cmdline-tools/latest/bin/avdmanager create avd -n PopovPixel -k "system-images;android-33;google_apis;arm64-v8a" -d pixel`

–ó–∞–ø—É—Å–∫–∞–µ–º —Å–æ–∑–¥–∞–Ω–Ω—ã–π Android-—ç–º—É–ª—è—Ç–æ—Ä —Å –∏–º–µ–Ω–µ–º PopovPixel –≤ [–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ](/1%20Common/1.3%20Terminal/1.3.3%20CLI/1.3.3.1%20Shells.md):

`$ANDROID_HOME/emulator/emulator -avd PopovPixel`

–û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã—Ö Android-—É—Å—Ç—Ä–æ–π—Å—Ç–≤ (–∫–∞–∫ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö, —Ç–∞–∫ –∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö), —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –º–æ–∂–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ ADB (Android Debug Bridge:

`$ANDROID_HOME/platform-tools/adb devices`

</p>
</details>


---

<details>
<summary><strong>ü§ß –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã</strong></summary>
<p>


</p>
</details>



---

[4.4.2 iOS CI Guide Theme](/4%20Linkage/4.4%20CI:CD/4.4.2%20Ô£ø%20iOS_CI.md) | [Back To iOSWiki Contents](https://github.com/eldaroid/iOSWiki)