## Unowned reference

Ссылается на объект в [куче](../../RandomAccessMemory/Heap.md), но эта ссылка не учитывается при подсчете ссылок, когда объект освобождается из памяти и после этого вы пытаетесь использовать экземпляр по unowned ссылке, то ваша программа упадет. Редко используется, в основном, что бы разрушить ссылочные циклы (memory cycles).

> Грубо говоря, `unowned` ссылка всегда хранит указатель на адрес в памяти. Даже если этот адрес уже не зарезервирован за вашим приложением, поэтому может быть краш неавторизированного доступа к участку памяти, которое не зарезервировано за нашим приложением.

```swift
//Captures a unowned reference to self
var myLazyVariable = { [ unowned self ]
     return self.myProp * 3
}()
```

### Пример корректного использования:

1) Банковская карта хранит ссылку на человека, которому она принадлежит. Эта ссылка должна быть unowned, потому что логически банковская карта не может существовать без человека.

2) Легкость дебаггинга.

### Производительность

Использование `unowned` вводит меньше накладных расходов, чем использование [weak](./Weak.md). Это потому, что [weak](./Weak.md) переменные ссылаются на объект через [side tables](./SideTables.md). Это означает, что есть еще один переход указателя для достижения объекта.

`unowned` ссылки указывают непосредственно на объект, поэтому у них нет таких накладных расходов.

## Unowned vs Weak

Мы устанавливаем [weak](./Weak.md) ссылку на тот объект, который может уйти из памяти раньше, т.е. время жизни этого объекта должно быть меньше, чем время жизни объекта из которого мы обращаемся к [weak](./Weak.md)

Мы устанавливаем `unowned` ссылку на тот обхект, чье время жизни >= времени жизни объекта из которого мы вызываем `unowned`


---

[Previous Theme Strong](./Strong.md) | [Back To Github Contents](https://github.com/eldaroid/iOSWiki) |  [Next Theme Weak](./Weak.md)
