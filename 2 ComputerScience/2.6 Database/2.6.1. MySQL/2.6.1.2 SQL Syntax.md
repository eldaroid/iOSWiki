Через оператор SELECT можно выводить данные не только из таблиц базы данных, но и произвольные строки, числа, даты и т.д.  Для вывода всех полей из определённой таблицы используется символ *.  F. E. Select from (Table_name)

**Вывод данных из определённых колонок таблицы**

Если необходимо вывести информацию только по определённым столбцам таблицы, а не всю сразу, то это можно сделать, перечисляя названия столбцов через запятую:

```sql
SELECT member_id, member_name FROM FamilyMembers
```

Псевдонимы

В случае, если мы хотим вывести какие-то столбцы таблицы, но чтобы в итоговой выборке они были названы иначе, мы можем использовать псевдонимы (их также называют алиасами).

Их синтаксис достаточно простой, мы должны использовать оператор AS. Как в примере ниже:

```sql
SELECT member_id, member_name AS Name FROM FamilyMembers
```

Псевдонимы могут содержать до 255 знаков (включая пробелы, цифры и специальные символы).

Литерал — это указанное явным образом фиксированное значение, например, число 12 или строка 'SQL'. 

Основными типами литералов в SQL являются:

- строковый
- числовой
- логический
- NULL
- литерал даты и времени


**Строковые литералы**

Строка — это последовательность символов, заключённых в одинарные (') или двойные (") кавычки. Например, 'это строка' и "это строка".

Строки могут содержать специальные последовательности символов, начинающиеся с "\" (экранирующий символ). Они нужны для того, чтобы СУБД придала обычным символам (буквам и другим знакам) новое особое значение. Например, последовательность "\n" буквально означает "перевод строки", а без предваряющего слеша это была бы обычная буква "n".

Строки могут содержать специальные последовательности символов, начинающиеся с "\" (экранирующий символ). Они нужны для того, чтобы СУБД придала обычным символам (буквам и другим знакам) новое особое значение. Например, последовательность "\n" буквально означает "перевод строки", а без предваряющего слеша это была бы обычная буква "n".


Пример: 
![](https://github.com/eldaroid/pictures/blob/master/iOSWiki/DataBase/SQL_Example_5.png?raw=true)


**Числовые литералы**

Пример:

![](https://github.com/eldaroid/pictures/blob/master/iOSWiki/DataBase/SQL_Example_6.png?raw=true) 

**Арифметические операторы**

Для числовых литералов в SQL есть все привычные нам арифметические операторы. 

Пример:

![](https://github.com/eldaroid/pictures/blob/master/iOSWiki/DataBase/SQL_Example_7.png?raw=true) 

**Литералы даты и времени**

Значения даты и времени могут быть представлены в формате строки или числа.

Например, если мы хотим указать какую-то дату в запросе, то мы можем это сделать с помощью строки "1970-12-30", "19701230" или же числа 19701230. В обоих случаях эти значения будут интерпретироваться как дата «30 декабря 1970 года».

Пример:

![](https://github.com/eldaroid/pictures/blob/master/iOSWiki/DataBase/SQL_Example_8.png?raw=true) 

Кроме самой даты, мы можем также указывать отдельно время или же всё вместе.

![](https://github.com/eldaroid/pictures/blob/master/iOSWiki/DataBase/SQL_Example_9.png?raw=true) 

**Логические литералы**

Логический литерал - значения TRUE и FALSE, означающие истинность и ошибочность какого-либо утверждения. При интерпретации запроса, MySQL преобразует их в числа: TRUE и FALSE становятся 1 и 0 соответственно.

**NULL**

Значение NULL означает "нет данных", "нет значения". Оно нужно, чтобы отличать визуально пустые значения, такие как строка нулевой длины или "пробел", от того, когда значения вообще нет, даже пустого.

При составлении SQL запросов мы можем использовать встроенные функции. Например, если мы хотим вывести строку в верхнем регистре, то для этого мы можем использовать функцию UPPER.

Пример:

![](https://github.com/eldaroid/pictures/blob/master/iOSWiki/DataBase/SQL_Example_10.png?raw=true) 

**Встроенная функция**

Встроенная функция – реализованный в СУБД кусок кода, с помощью которого можно выполнять преобразования строковых, числовых и других данных в запросах. Каждая функция принимает набор аргументов определённого типа, выполняет заложенные в неё операции и обязательно возвращает один из возможных литералов. Стоит отметить, что функции могут принимать как ноль аргументов, так и несколько.

Виды функций:

![](https://github.com/eldaroid/pictures/blob/master/iOSWiki/DataBase/SQL_Example_11.png?raw=true) 

Функции можно применять не только над литералами, но и над значениями, взятыми из таблицы. При этом функция выполняет преобразования для каждой строки отдельно. 

Команда `DISTINCT` позволяет выбирать только уникальные значения из базы данных (то есть отсеивает дубли: к примеру, в таблице есть две Маши - тогда запрос выведет только первую).


#### **Условный оператор WHERE**

Ситуация, когда требуется сделать выборку по определённому условию, встречается очень часто. Для этого в операторе SELECT существует оператор WHERE, после которого следуют условия для ограничения строк. Если запись удовлетворяет этому условию, то попадает в результат, иначе отбрасывается.

**Операторы сравнения**

Чтобы сравнивать значения в SQL, используются специальные операторы. Они позволяют проверить, равны ли значения, больше ли одно другого, не равны ли они и так далее. Результатом сравнения может быть:

- true (это то же самое, что 1)
- false (то же, что 0)
- NULL (если результат сравнения не определён, например, при сравнении с NULL)

Пример:

![](https://github.com/eldaroid/pictures/blob/master/iOSWiki/DataBase/SQL_Example_12.png?raw=true) 

Результатом сравнения любого значения с NULL является NULL. Исключением является оператор эквивалентности.

**Логические операторы**

Логические операторы — это ваши помощники, когда нужно объединить несколько условий в одном SQL-запросе. С их помощью вы можете гибко выбирать только те строки, которые вам действительно нужны. 

Примеры операторов: 

AND — оба условия должны быть верны.
OR — достаточно, чтобы выполнилось хотя бы одно условие.
NOT — условие становится противоположным.
XOR — это оператор, который помогает выбрать строки, где выполняется только одно из двух условий, но не оба сразу.

**Приоритет логических операторов**

Когда вы пишете запрос с несколькими условиями, SQL должен понять, в каком порядке их проверять. Это похоже на математику: сначала умножение, потом сложение. Для логических операторов в SQL тоже есть свой порядок — это называется приоритетом.

- Сначала — NOT
- Затем — AND
- Потом — XOR
- В конце — OR

Обратите внимание: оператор XOR есть не во всех базах данных. Если его нет, можно обойтись комбинацией AND и OR.

#### **Операторы IS NULL, BETWEEN, IN**

Кроме WHERE в условных запросах мы можем использовать следующие полезные операторы:

- IS NULL
- BETWEEN
- IN

**IS NULL**

Оператор IS NULL позволяет узнать, равно ли проверяемое значение NULL, т.е. пустое ли значение. Для использования отрицания, то есть, если мы хотим найти все записи, где поле не равно NULL.

**BETWEEN**

Оператор BETWEEN min AND max позволяет узнать, расположено ли проверяемое значение столбца в интервале между min и max, включая сами значения min и max.  Используется данный оператор следующим образом:

	SELECT * FROM Payments
	WHERE unit_price BETWEEN 100 AND 500;

**IN**

Оператор IN позволяет узнать, входит ли проверяемое значение столбца в список определённых значений.


#### **Оператор LIKE**

Оператор LIKE используется при условных запросах, когда мы хотим узнать, соответствует ли строка определённому шаблону.


```sql
SELECT name, email FROM Users;
```

| name              | email                 |
| ----------------- | --------------------- |
| Bruce Willis      | barjam@hotmail.com    |
| George Clooney    | tellis@me.com         |
| Kevin Costner     | metzzo@hotmail.com    |
| Samuel L. Jackson | moonlapse@outlook.com |
| Kurt Russell      | gator@live.com        |

Допустим, мы хотим найти всех пользователей, чья почта лежит в домене второго уровня «hotmail». Т.е. нужно отобрать только те записи, что отвечают условию:

- после символа «@» следует «hotmail»
- после «hotmail» следует символ «.» и далее любая последовательность символов

Для таких нетривиальных поисков по строковым полям и нужен оператор LIKE.

**Синтаксис**

Шаблон может включать следующие специальные символы:

|Символ|Описание|
|:--|:--|
|%|Последовательность любых символов (число символов в последовательности может быть от 0 и более)|
|_|Любой единичный символ|

Так наш запрос на поиск пользователей в домене «hotmail» может выглядеть следующим образом:


```sql
SELECT name, email FROM Users
WHERE email LIKE '%@hotmail.%'
```

| name                 | email                |
| -------------------- | -------------------- |
| Bruce Willis         | barjam@hotmail.com   |
| Kevin Costner        | metzzo@hotmail.com   |
| Jennifer Lopez       | barjam@hotmail.com   |
| Harrison Ford        | kostas@hotmail.com   |
| Michael Douglas      | timtroyr@hotmail.com |
| Catherine Zeta-Jones | flakeg@hotmail.com   |

**Примеры**

 ```sql
 WHERE поле_таблицы LIKE 'text%'
 ```
 
 Сопоставляется любым строкам, начинающимся на «text»


```sql
WHERE поле_таблицы LIKE '%text'
```

Сопоставляется любым строкам, заканчивающимся на «text»


```sql
WHERE поле_таблицы LIKE '_ext'
```

Сопоставляется строкам, имеющим длину 4 символа, при этом 3 последних обязательно должны быть «ext». Например, слова «text» и «next»


```sql
WHERE поле_таблицы LIKE 'begin%end'
```

Сопоставляется строкам, начинающихся на «begin» и заканчивающихся на «end»


**ESCAPE-символ**

ESCAPE-символ используется для экранирования специальных символов (% и _). В случае если вам нужно найти строки, содержащие эти специальные символы как обычный текст, вы можете использовать ESCAPE-символ.


```sql
WHERE поле_таблицы LIKE 'шаблон_строки' ESCAPE 'символ_экранирования'
```

Например, вы хотите получить идентификаторы задач, прогресс которых равен 3%:


```sql
SELECT job_id FROM Jobs
WHERE progress LIKE '3!%' ESCAPE '!';
```

Если бы мы не экранировали трафаретный символ, то в выборку попало бы всё, что начинается на 3.

#### **Оператор REGEXP для регулярных выражений**

Оператор REGEXP (или его синоним RLIKE) в MySQL используется для поиска и обработки строковых данных с помощью регулярных выражений.

Регулярные выражения предоставляют мощные возможности для сложных шаблонов поиска, которые трудно реализовать с помощью оператора LIKE.

**Когда использовать регулярные выражения вместо LIKE?**

Оператор LIKE удобен для простых шаблонов поиска, таких как поиск строк, начинающихся или заканчивающихся на определённый набор символов, или содержащих определённые подстроки. Однако, если требуется более сложный и гибкий поиск, например, поиск по нескольким условиям или использование специальных символов и диапазонов, операторы регулярных выражений станут незаменимым инструментом.

**Синтаксис регулярных выражений**

```sql
... WHERE table_field REGEXP 'pattern';
```

где pattern — это регулярное выражение, задающее шаблон поиска.

**Важные нюансы**

1. **Регистронезависимость**
По умолчанию регулярные выражения в MySQL не чувствительны к регистру. Например, выражение REGEXP 'abc' найдёт строку и abc, и Abc, и ABC.
2. **Специальные символы**
Некоторые символы имеют особое значение в регулярных выражениях и требуют экранирования (например, ., *, +, ?, [, ], (, ), {, }, |, \).

Для экранирования таких символов используйте двойной обратный слеш — "\\".


**Специальные символы и структуры**

| Символы и структуры | Чему соответствует                                                                      |
| :------------------ | :-------------------------------------------------------------------------------------- |
| *                   | 0 или более экземпляров предшествующей строки                                           |
| +                   | 1 или более экземпляров предшествующих строк                                            |
| .                   | Любой одиночный символ                                                                  |
| ?                   | 0 или 1 экземпляр предшествующей строки                                                 |
| ^                   | Соответствует началу строки                                                             |
| $                   | Соответствует окончанию строки                                                          |
| [abc]               | Любой символ, указанный в квадратных скобках                                            |
| [^abc]              | Любой символ, не указанный в квадратных скобках                                         |
| [A-Z], [А-Я]        | Соответствует любой заглавной букве латинского и кириллического алфавита соответственно |
| [a-z], [а-я]        | Соответствует любой строчной букве латинского и кириллического алфавита соответственно  |
| [0-9]               | Соответствует любой цифре                                                               |
| p1\|p2\|p3          | Соответствует любому из паттернов p1 или p2 или p3                                      |
| {n}                 | n экземпляров предыдущей строки                                                         |
| {m,n}               | от m до n экземпляров предыдущей строки                                                 |
