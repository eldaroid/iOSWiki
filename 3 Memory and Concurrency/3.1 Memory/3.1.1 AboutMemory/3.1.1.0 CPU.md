# Центральный процессор (CPU, Central Processing Unit) 


## Что это такое

**Процессор** – устройство или программа, которые предназначаются для **обработки чего-либо**. Центральный вычислительный элемент любого компьютера. Он управляет всеми остальными компонентами оборудования, поэтому его также называют CPU (Central Processing Unit)

**Современный микропроцессор** – пластинка прямоугольной формы, **выращенный по специальным технологиям кристалл кремния**. На ее небольшой площади располагаются **транзисторы**. Конструкция обеспечивает легкое подключение к системным платам компьютеров.

Google указывает на то, что процессор – это электронный блок или интегральная схема, исполняющая машинные инструкции. Главная часть аппаратного обеспечения ЭВМ и программируемых логических контроллеров.

![Processor_Scheme](https://github.com/eldaroid/pictures/blob/master/iOSWiki/Memory/Processor_Scheme.png?raw=true)

![Processor_Core](https://github.com/eldaroid/pictures/blob/master/iOSWiki/Memory/Processor_Core2.png?raw=true)


### Работа

Когда процессору требуются данные, он сначала проверяет их в регистрах, и кэшах L1-L3.

Если он не находит данные там, то он генерирует сигнал на шине адреса, указывающий физический адрес памяти ОЗУ, по которому нужно прочитать данные. Этот сигнал на шине адреса генерируется процессором и передается контроллеру памяти.

То есть отправляем в ОЗУ адрес по шине адреса, а получаем данные по шине данных.





Пример процессорной архитектуры:

![](https://github.com/eldaroid/pictures/blob/master/iOSWiki/Memory/Processor_CPU.jpg?raw=true)

Google указывает на то, что под архитектурой ЦП некоторые привыкли понимать возможность выполнения определенного набора кодов. Большинство современных процессоров относятся к архитектуре x86. Реже можно встретить x64 и x32.







Регистры процессора являются небольшими, очень быстрыми областями памяти из набора триггеров, которые используются для выполнения инструкций и хранения промежуточных данных во время выполнения программ.

Регистры являются самой быстрой памятью в компьютере, поскольку они находятся непосредственно в процессоре и имеют непосредственный доступ к ALU.


ALU (Arithmetic Logic Unit):
* Выполняет арифметические операции (сложение, вычитание и т.д.).
* Выполняет логические операции (AND, OR, XOR и т.д.).

### Что делают транзисторы?

Любое вычислительное устройство, будь то компьютер, смартфон или ваши AirPods, работает в двоичной системе счисления. То есть все операции записываются, просчитываются и выводятся в последовательности нулей и единиц.

Транзистор в процессоре можно представить в роли своеобразного переключателя/лампочки, способного работать в двух режимах: усиления или переключения электрического сигнала. Мы будем обсуждать только режим переключения 

* Единица - есть ток (ламка горит);
* Ноль - нет тока (лампа не горит);

Разная последовательность нулей и единиц образует информацию — программы, музыку, картинки, видео и даже этот текст.

### Закон Мура

Гордон Мур (основатель корпорации Intel) задумался о том, как быстро ростет количества транзисторов, помещающихся на одной и той же площади. Показатель напрямую влияет на скорость вычислений и развитие технологий. 

![](https://github.com/eldaroid/pictures/blob/master/iOSWiki/Memory/Mure.jpg?raw=true)

> ❗ Количество транзисторов на кристалле удваивается примерно каждые 2 года. 

Соответственно, размеры транзисторов уменьшаются на корень из двух раз. Другими словами, нужно умножать каждую сторону квадратного транзистора на 0.7, чтобы его площадь уменьшилась вдвое:


![](https://github.com/eldaroid/pictures/blob/master/iOSWiki/Memory/SquareMure.jpg?raw=true)

Так родилась маркировка техпроцесса: каждые два года эту цифру умножали на 0.7. Например, при переходе от 1000-нм техпроцесса к 700-нм, количество транзисторов на чипе возросло в 2 раза. Примерно то же можно сказать и обо всех современных процессорах: 14 нм -> 10 нм -> 7 нм -> 5 нм.

Более того, уменьшая размер транзистора, автоматически снижается его энергопотребление (ток, проходящий через транзистор пропорционален отношению его ширины к длине). Также уменьшается размер затвора и его емкость, позволяя ему переключаться еще быстрее. 

### Создание транзистора

Для создания транзистора мы берем немножко песка (условно какую-то часть одной песчинки) и делаем из него микроскопическую основу:

![](https://github.com/eldaroid/pictures/blob/master/iOSWiki/Memory/TransistorBase.jpg?raw=true)

Это будет наша кремниевая подложка (кремний получают именно из песка). Теперь нужно на эту основу нанести две области: в одну ток подаем (вход в транзистор), а из другой — считываем (выход).

![](https://github.com/eldaroid/pictures/blob/master/iOSWiki/Memory/Transistor-with-NP-areas.jpg?raw=true)

Мы сделали эти области внутри кремниевой подложки таким образом, чтобы ток не смог пройти от входа к выходу. Он будет останавливаться самим кремнием. Чтобы ток смог пройти от входа к выходу по поверхности кремниевой подложки, нужно сверху разместить проводящий материал (скажем, металл) и хорошенько его изолировать:

![](https://github.com/eldaroid/pictures/blob/master/iOSWiki/Memory/transistor-make-metal-gate.jpg?raw=true)

Когда мы подадим напряжение на этот изолированный кусочек металла, размещенный над кремниевой подложкой, он создаст вокруг себя электрическое поле: слой кремния под действием этого электрического поля начинает проводить ток от входа к выходу! То есть, когда мы подаем напряжение, ток может легко протекать между двумя областями:

![](https://github.com/eldaroid/pictures/blob/master/iOSWiki/Memory/how-transistor-control-flow.jpg?raw=true)

Осталось дело за малым — подключить «провода» (электроды) ко входу, выходу и кусочку изолированного металла, с помощью которого мы и будем включать/выключать транзистор. Назовем их так:

* Вход — Исток;
* Выход — Сток;
* Металл с изоляцией — Затвор;

![](https://github.com/eldaroid/pictures/blob/master/iOSWiki/Memory/processor-transistor-description.jpg?raw=true)

### Техпроцесс

Производители освоили производство чипов, а вернее сказать транзисторов, по 5-нанометровой технологии.

> Волос человека имеет толщину 80 тысяч нанометров — выходит, на его разрезе в теории можно разместить 16 тысяч транзисторов. 
> 
> Вирус COVID-19 имеет размер 110 нм и на нём можно разместить целых 22 транзистора от Apple M1.

#### Что внутри такого транзистора имеет размер 7 нанометров?

Если бы этот же вопрос я задал лет 20 назад, правильным ответом была бы **длина затвора** (или длина канала, по которому протекает ток от стока к истоку):

![](https://github.com/eldaroid/pictures/blob/master/iOSWiki/Memory/processor-transistor-size.jpg?raw=true)

Удалось сокращать длину затвора быстрее, чем другие части транзистора. С тех пор связывать размер затвора с техпроцессом стало не совсем корректно, так как это уже не отражало реального увеличения плотности размещения транзисторов на кристалле.

Например, в 250-нм техпроцессе длина затвора составляла 190 нанометров, но транзисторы не были упакованы настолько плотно по сравнению с предыдущим техпроцессом, чтобы называть его 190-нанометровым (по размеру затвора). Это не отражало бы реальную плотность.

Затем длина канала и вовсе перестала уменьшаться каждые два года, так как появилась новая проблема. При уменьшении до **2012 года когда преешнли на 22-нанометрового техпроцесса**, электроны могли обходить узкий затвор, так как блокирующий эффект был недостаточно сильным. Более того, такие утечки возникали постоянно, вызывая повышенное энергопотребление и нагрев транзистора (и, как следствие, всего процессора).

Решение оказалось простым и гениальным — нужно взять канал, по которому проходит ток и поднять его вверх, над кремниевой основной, чтобы он полностью проходил через затвор:

![](https://github.com/eldaroid/pictures/blob/master/iOSWiki/Memory/finfet-transistor.jpg?raw=true)

Теперь всё пространство, по которому идет ток, управляется затвором, так как полностью им окружено. А раньше, как мы видим, этот затвор находился сверху над каналом и создавал сравнительно слабый блокирующий эффект.

С новой технологией (FinFET), можно было продолжать уменьшать длину затвора и размещать еще больше транзисторов, так как они стали более узкими (сравните на картинке ширину канала). Но говорить о размерах транзистора стало вообще бессмысленно. Не совсем понятно даже, как эти размеры теперь высчитывать, когда транзистор из плоского превратился в трехмерный.

#### Вывод

Таким образом, техпроцесс полностью «оторвался» от каких-либо реальных величин и просто условно обозначает увеличение плотности транзисторов относительно предыдущего техпроцесса.

---

[3.1.1 About Memory Folder](/3%20Memory%20and%20Concurrency/3.1%20Memory/3.1.1%20AboutMemory/) | [Back To iOSWiki Contents](https://github.com/eldaroid/iOSWiki) | [3.1.1.1 Memory Theme](./3.1.1.1%20Memory.md)