# Metadata Attributes (Extended attributes)

Расширенные атрибуты (Extended attributes - `xattr`) связывают метаданные с отдельными файлами и папками. 

В macOS многие файлы имеют ветвления ресурсов (resource forks), содержащие метаданные (attributes - `xattr`). Помимо стандартных атрибутов метаданных, таких как размер файла, дата изменения и разрешения, существуют расширенные метаданные extended attributes (`xattr`):
* 1) Классическое приложение хранит определения окон, меню, диалогов и т. д. в свое resource fork.
* 2) Хранение информации об источнике, из которого был загружен файл. Полезно для отслеживания происхождения файлов и обеспечения их безопасности.


### Посмотреть расширенные метаданные extended attributes: 

* для работы с расширенными атрибутами на macOS — это `xattr -l /file/path`; 
* для просмотра и изменения атрибутов и `ls -l@`;

    ![Extended Attributes](https://github.com/eldaroid/pictures/blob/master/iOSWiki/Common/ExtendedAttributes.png?raw=true)

Часто встречающиеся аттрибуты метаданных (называемые Apple атрибутами) включают:

* **com.apple.FinderInfo** - хранит флаги и настройки Finder: информация является ли файл пакетом или нужно ли скрывать расширение файла;

* **com.apple.progress.fractionCompleted** - отслеживание прогресса операций над файлами: при копировании, загрузке или передаче больших файлов;

* **com.apple.ResourceFork** - ресурсный форк файла, используемый в старых Mac приложениях для хранения иконок, шрифтов и других данных;

* **com.apple.TextEncoding** - записывает схему кодирования, используемую многими текстовыми файлами;

* **com.apple.rootless** - отмечает элементы, защищенные SIP;

    > SIP – это функция безопасности в macOS, которая ограничивает действия пользователя выполняемые на уровне системы, что помогает предотвратить случайное или злонамеренное вмешательство в важные компоненты системы;

* **com.apple.lastuseddate#PS** - время последнего использования файла.Используется для управления кэшированием или другими оптимизациями системы;

* **com.apple.quarantine** - файлы, загруженные из Интернета, и содержит их статус Gatekeeper, указывающий, требуют ли они еще полной проверки, прошли ли они полную проверку и были ли запущены на данном Mac;

* **com.apple.metadata** - предназначен для метаданных в целом, и обычно обозначается подтипами аттрибутов указаными ниже:

    * **kMDItemIsScreenCapture, kMDItemScreenCaptureGlobalRect, and kMDItemScreenCaptureType** - для скриншотов;

    * **kMDItemUserTags** - теги в Finder;

    * **kMDItemDownloadedDate** - указывает дату получения загруженного элемента;

    * **kMDItemWhereFroms** - предоставляет URL-адрес, с которого был получен загруженный элемент;


---

[1.3.3.3 Chmod Theme](./1.3.3.3%20Chmod.md) | [Back To iOSWiki Contents](https://github.com/eldaroid/iOSWiki) |  [1.3.3.4 Searching Info Theme](./1.3.3.5%20SearchingInfo.md)
